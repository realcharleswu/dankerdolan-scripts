#!/usr/bin/bash
PATHSTRING=""

if [ -z "$1" ]
then
	PATHSTRING="[x] Argument not passed, default path(~/Practice/htb) used."
	cd /home/kali/Practice/htb
else
	if [ -d "$1" ]
       	then
		PATHSTRING="[*] Path set to $1."
		cd $1
	else
		echo "[*] Directory did not exist, creating $1."
		mkdir $1 2>/dev/null
		if [ -d "$1" ]
		then
			PATHSTRING="[*] Directory created, path set to $1."; sleep 1;
			cd $1
		else
			echo "[x] Path could not be made, aborting."
			exit 1
		fi
	fi

fi
echo $PATHSTRING; sleep 1;
session="pentest"

tmux new-session -d -s $session -n 'main'
tmux split-window -h
tmux split-window -v -p 33
tmux send-keys "tty-clock" Enter
tmux new-window -d -t '=pentest' -n 'second'
tmux select-window -t $session:1
tmux split-window -h
tmux new-window -d -t '=pentest' -n 'openvpn'
tmux select-window -t $session:2
tmux select-window -t $session:0
tmux select-pane -t 0
tmux attach
